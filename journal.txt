# Журнал проекта ОСТРОВ
Хронология важных событий и действий участников. Формат: дата время (МСК) — автор: действие.

---
2025-02-14 ~14:00 — Форж: Анализ проекта, выявлены несоответствия схемы БД (full_name vs name/surname, password_hash), таблица good_deeds.
2025-02-14 ~14:30 — Максим: Уточнены требования: админка, full_name достаточно, bcrypt для паролей, good_deeds оставить, сервер 23.172.217.180 в работе.
2025-02-14 ~15:00 — Форж: Создана админ-панель (admin.html, API /admin, /admin/users CRUD), обновлён init.sql (full_name, password_hash bcrypt), main.py с passlib.
2025-02-14 ~15:30 — Максим: Токен GitHub в чате — рекомендовано отозвать, создан новый.
2025-02-14 ~16:00 — Максим: Настроен Git: credential.helper store, push --set-upstream origin main, pull --rebase, успешный push.
2025-02-14 ~16:30 — Максим: Ознакомление с Readme, утверждено имя Форж для Lead Developer.
2025-02-14 ~17:00 — Максим: Направлено приветствие Сеньору Сре (Google AI), выбор имени в процессе.
2025-02-14 ~17:10 — Форж: Создан journal.txt, добавлена заметка в Readme о журнале проекта.

---
2026-02-15 03:42 — Максим: Задача — реализовать регистрацию (UserRegister, POST /register, форма в index.html).
2026-02-15 03:45 — Форж: Добавлена модель UserRegister, эндпоинт POST /register, форма регистрации и register() в index.html.

---
2026-02-19 — Сессия с ассистентом (ОСТРОВ / Завтрак исполняющий желания):

• Аватарки: исправлена ошибка «addEventListener of null» — в разметку добавлен скрытый input#avatar-file; установлен python-multipart; в main.py заданы BASE_DIR, MEDIA_DIR, AVATARS_DIR, mount /media для раздачи файлов; добавлена поддержка анимированных аватарок (GIF). В requirements.txt добавлен python-multipart.

• Брендинг: «ОСТРОВ» заменён на «Завтрак исполняющий желания» (title, заголовок страницы). Фон-подложка: картинка examples/breakfast.png только для блока входа (контейнер), не на весь экран.

• Колонка «Цена»: формат без копеек и без «₽» (например 200 000), шрифт как у «Дедлайн».

• Раздел «Бадди»: в users добавлена колонка buddy_id (миграция mig_013), взаимная связь 1↔17 (once_buddy_1_17.sql). Логин возвращает buddy_id и buddy_name; GET /dreams принимает viewer_id и отдаёт мечты бадди при проверке доступа. Во фронте: при клике «Бадди» загружаются мечты бадди, таблица (только просмотр или с редактированием — см. ниже). Исправлено отсутствие buddy_id/buddy_name в ответе логина.

• Уровень доверия бадди (buddy_trust): в users добавлена колонка buddy_trust (boolean, миграция mig_014), для id 1 и 17 установлено true. Логин возвращает buddy_trust. Бэкенд: PATCH/DELETE мечт и POST/PATCH шагов принимают опциональный viewer_id; редактирование разрешено владельцу или бадди с buddy_trust=true (хелпер _can_edit_buddy_dream, _resolve_editor_and_check_dream). Фронт: контекст dreamEditContext (ownerId, viewerId) и dreamApiUserParams() для всех запросов к мечтам/шагам; в разделе «Бадди» при buddy_trust отображается полная таблица с редактированием (статус, приватность, модалка, шаги); после изменений вызывается refreshAfterDreamChange() (обновление списка бадди или своих мечт). В Readme/tables.md описаны buddy_id и buddy_trust.
