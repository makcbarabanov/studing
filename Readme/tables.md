# –¢–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–û–°–¢–†–û–í)

–û–ø–∏—Å–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ø–æ –º–∏–≥—Ä–∞—Ü–∏—è–º (`_sql/`), `init.sql` –∏ –∫–æ–¥—É `main.py`. –í —Ä–µ–∞–ª—å–Ω–æ–π –ë–î –º–æ–≥—É—Ç –±—ã—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ `dreams` ‚Äî –∏–∑ –∏–º–ø–æ—Ä—Ç–æ–≤ –∏–ª–∏ –¥—Ä—É–≥–∏—Ö —Å–∏—Å—Ç–µ–º).

---

## –î–µ–π—Å—Ç–≤—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã

### 1. `users`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã. –£—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞ (—Ç–µ–ª–µ—Ñ–æ–Ω, —Ö–µ—à –ø–∞—Ä–æ–ª—è), –ø—Ä–æ—Ñ–∏–ª—å (–∏–º—è, —Ñ–∞–º–∏–ª–∏—è, –≥–æ—Ä–æ–¥). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ –ª–æ–≥–∏–Ω–µ, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –≤ –∞–¥–º–∏–Ω–∫–µ.

| –ö–æ–ª–æ–Ω–∫–∞         | –¢–∏–ø           | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------------|---------------|----------|
| `id`            | SERIAL PRIMARY KEY | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. |
| `name`          | VARCHAR(100)  | –ò–º—è. |
| `surname`       | VARCHAR(100)  | –§–∞–º–∏–ª–∏—è. –í API —á–∞—Å—Ç–æ —Å–∫–ª–µ–∏–≤–∞–µ—Ç—Å—è —Å –∏–º–µ–Ω–µ–º –≤ `full_name`. |
| `phone`         | VARCHAR(20) UNIQUE | –¢–µ–ª–µ—Ñ–æ–Ω (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π), –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –ª–æ–≥–∏–Ω. |
| `city`          | VARCHAR(100)  | –ì–æ—Ä–æ–¥. |
| `password_hash` | TEXT          | –•–µ—à –ø–∞—Ä–æ–ª—è (bcrypt) –∏–ª–∏ —É—Å—Ç–∞—Ä–µ–≤—à–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ. |
| `avatar_path`   | VARCHAR(255) NULL | –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –∞–≤–∞—Ç–∞—Ä–∫–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–∞—Ç–∞–ª–æ–≥–∞ `media/` (–Ω–∞–ø—Ä–∏–º–µ—Ä `avatars/123.jpg`). –§–∞–π–ª—ã –ª–µ–∂–∞—Ç –≤ `media/avatars/`. –ú–∏–≥—Ä–∞—Ü–∏—è mig_012. |
| `buddy_id`      | INT NULL           | ID –±–∞–¥–¥–∏ (–¥—Ä—É–≥–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å). –°–≤—è–∑—å –æ–¥–∏–Ω-–Ω–∞-–æ–¥–∏–Ω: –±–∞–¥–¥–∏ –º–æ–∂–µ—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –º–µ—á—Ç—ã —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Ä–∞–∑–¥–µ–ª–µ ¬´–ë–∞–¥–¥–∏¬ª. –í–∑–∞–∏–º–Ω–æ: —É –±–∞–¥–¥–∏ –≤ `buddy_id` —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —ç—Ç–æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å. –ú–∏–≥—Ä–∞—Ü–∏—è mig_013. |
| `buddy_trust`   | BOOLEAN DEFAULT false | –£—Ä–æ–≤–µ–Ω—å –¥–æ–≤–µ—Ä–∏—è –∫ –±–∞–¥–¥–∏: true ‚Äî –±–∞–¥–¥–∏ –º–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –º–µ—á—Ç—ã —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Å—Ç–∞—Ç—É—Å, —à–∞–≥–∏, —É–¥–∞–ª–µ–Ω–∏–µ –∏ —Ç.–¥.); false ‚Äî —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä. –ú–∏–≥—Ä–∞—Ü–∏—è mig_014. |

---

### 2. `dreams`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ú–µ—á—Ç—ã —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤. –û—Å–Ω–æ–≤–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å –ª–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞: —Ç–µ–∫—Å—Ç –º–µ—á—Ç—ã, –≤–ª–∞–¥–µ–ª–µ—Ü (`user_id`), –¥–µ–¥–ª–∞–π–Ω, —Ü–µ–Ω–∞, —Å—Ç–∞—Ç—É—Å –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è (—Å–≤—è–∑—å —Å–æ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞–º–∏), —à–∞–≥–∏ –ø–æ–¥–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ `dream_steps`. –¢–∞–±–ª–∏—Ü–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ GET/POST/PATCH/DELETE –º–µ—á—Ç.

| –ö–æ–ª–æ–Ω–∫–∞           | –¢–∏–ø            | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------------------|----------------|----------|
| `id`              | SERIAL PRIMARY KEY | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –º–µ—á—Ç—ã. |
| `date`            | DATE / TIMESTAMP   | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –º–µ—á—Ç—ã. –í –º–∏–≥—Ä–∞—Ü–∏—è—Ö: `date TIMESTAMP DEFAULT NOW()` –∏–ª–∏ `DATE DEFAULT CURRENT_DATE`. NOT NULL. |
| `user_id`         | INT NOT NULL   | –í–ª–∞–¥–µ–ª–µ—Ü –º–µ—á—Ç—ã, —Å—Å—ã–ª–∫–∞ –Ω–∞ `users.id`. |
| `dream`           | TEXT NOT NULL  | –¢–µ–∫—Å—Ç –º–µ—á—Ç—ã. –û—Å–Ω–æ–≤–Ω–æ–µ –ø–æ–ª–µ, –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ –∏ –≤ –º–æ–¥–∞–ª–∫–∞—Ö. |
| `what_need`       | JSONB          | –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –æ—Å—É—â–µ—Å—Ç–≤–ª–µ–Ω–∏—è (–º–∞—Å—Å–∏–≤). –ú–æ–∂–µ—Ç –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –ë–î –∏–∑ –¥—Ä—É–≥–∏—Ö —Å–∏—Å—Ç–µ–º, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –û–°–¢–†–û–í –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è. |
| `interference`    | JSONB          | –ß—Ç–æ –º–µ—à–∞–µ—Ç –æ—Å—É—â–µ—Å—Ç–≤–∏—Ç—å (–º–∞—Å—Å–∏–≤). –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º. |
| `completion_count`| INT            | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑, –∫–æ–≥–¥–∞ –º–µ—á—Ç–∞ –±—ã–ª–∞ –≤–æ–ø–ª–æ—â–µ–Ω–∞. –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º. |
| `helpers_id`      | JSONB          | –ú–∞—Å—Å–∏–≤ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥–ª–∏. –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º. |
| `created_at`      | TIMESTAMP      | –î–∞—Ç–∞/–≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏ –≤ –ë–î. –ú–æ–∂–µ—Ç –±—ã—Ç—å –≤ –ë–î, –≤ –º–∏–≥—Ä–∞—Ü–∏—è—Ö –ø—Ä–æ–µ–∫—Ç–∞ –Ω–µ—Ç. |
| `updated_at`      | TIMESTAMP      | –î–∞—Ç–∞/–≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è. –ú–æ–∂–µ—Ç –±—ã—Ç—å –≤ –ë–î, –≤ –º–∏–≥—Ä–∞—Ü–∏—è—Ö –ø—Ä–æ–µ–∫—Ç–∞ –Ω–µ—Ç. |
| `price`           | NUMERIC(12,2) / VARCHAR(50) | –¶–µ–Ω–∞ (—Ä—É–±.). –í –º–∏–≥—Ä–∞—Ü–∏–∏ ‚Äî NUMERIC; –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –ë–î ‚Äî VARCHAR. –í API –æ—Ç–¥–∞—ë—Ç—Å—è —á–∏—Å–ª–æ–º. |
| `title`           | VARCHAR(500)  | –ö—Ä–∞—Ç–∫–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫. –î–æ–±–∞–≤–ª–µ–Ω –≤ mig_001; –≤ API —Ç–µ–∫—Å—Ç –º–µ—á—Ç—ã –±–µ—Ä—ë—Ç—Å—è –∏–∑ `dream`, –Ω–µ –∏–∑ `title`. |
| `description`     | TEXT          | –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ. –í API –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è. |
| `image_url`       | TEXT          | –°—Å—ã–ª–∫–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ. –í API –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è. |
| `is_public`       | BOOLEAN DEFAULT true | –ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å: true = –º–µ—á—Ç–∞ –æ—Ç–∫—Ä—ã—Ç–∞—è (–ø–æ–ø–∞–¥–∞–µ—Ç –≤ –≤–∏—Ç—Ä–∏–Ω—É), false = –ø—Ä–∏–≤–∞—Ç–Ω–∞—è (–∞–Ω–æ–Ω–∏–º–Ω–∞—è, –Ω–µ –≤ –≤–∏—Ç—Ä–∏–Ω–µ). –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å–µ –æ—Ç–∫—Ä—ã—Ç—ã–µ. –ú–∏–≥—Ä–∞—Ü–∏—è mig_011. |
| `progress`        | INT DEFAULT 0 | –ü—Ä–æ–≥—Ä–µ—Å—Å (0‚Äì100 –∏–ª–∏ –∏–Ω–∞—è —à–∫–∞–ª–∞). –í API –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è. |
| `deadline`        | DATE          | –î–µ–¥–ª–∞–π–Ω (–¥–∞—Ç–∞, –¥–æ –∫–æ—Ç–æ—Ä–æ–π –Ω—É–∂–Ω–æ –æ—Å—É—â–µ—Å—Ç–≤–∏—Ç—å). –í —Ñ–æ—Ä–º–∞—Ç–µ YYYY-MM-DD, –≤ API –æ—Ç–¥–∞—ë—Ç—Å—è —Å—Ç—Ä–æ–∫–æ–π. |
| `status_id`       | INT NOT NULL DEFAULT 1 | –°—Å—ã–ª–∫–∞ –Ω–∞ `dreams_statuses.id`. –î–æ–±–∞–≤–ª–µ–Ω –≤ mig_006. |
| `category_id`     | INT NULL      | –°—Å—ã–ª–∫–∞ –Ω–∞ `dreams_categories.id`. –î–æ–±–∞–≤–ª–µ–Ω –≤ mig_006. NULL ‚Äî –±–µ–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏. |

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ö–æ–ª–æ–Ω–∫–∏ `status` –∏ `category` (VARCHAR) –ø–æ—Å–ª–µ mig_006/mig_006b —É–¥–∞–ª–µ–Ω—ã; –≤–º–µ—Å—Ç–æ –Ω–∏—Ö –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è `status_id` –∏ `category_id`. –ö–æ–ª–æ–Ω–∫–∞ `is_public` –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –º–∏–≥—Ä–∞—Ü–∏–µ–π mig_011 (ADD COLUMN IF NOT EXISTS, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é true).

---

### 3. `dreams_log`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –õ–æ–≥ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–π –º–µ—á—Ç ‚Äî –∫—Ç–æ –∏ –∫–æ–≥–¥–∞ –æ—Ç–º–µ—Ç–∏–ª, —á—Ç–æ –º–µ—á—Ç–∞ —Å–±—ã–ª–∞—Å—å. –û–¥–Ω–∞ –º–µ—á—Ç–∞ –º–æ–∂–µ—Ç —Å–±—ã–≤–∞—Ç—å—Å—è –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ (—Ä–∞–∑–Ω—ã–µ –ª—é–¥–∏ –∏–ª–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ —Ö–µ–¥–µ—Ä–µ: ¬´–°–±—ã–ª–æ—Å—å: N –º–µ—á—Ç–∞, M —Ä–∞–∑¬ª. –ú–∏–≥—Ä–∞—Ü–∏—è mig_016.

| –ö–æ–ª–æ–Ω–∫–∞                | –¢–∏–ø            | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------------------|----------------|----------|
| `id`                   | SERIAL PRIMARY KEY | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–ø–∏—Å–∏. |
| `dream_id`             | INT NOT NULL   | –ú–µ—á—Ç–∞. REFERENCES `dreams(id)` ON DELETE CASCADE. |
| `date`                 | DATE NOT NULL  | –î–∞—Ç–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è. |
| `fulfilled_by_user_id` | INT NOT NULL   | –ö—Ç–æ –æ—Ç–º–µ—Ç–∏–ª –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ. REFERENCES `users(id)`. |

–ò–Ω–¥–µ–∫—Å—ã: `idx_dreams_log_dream_id`, `idx_dreams_log_fulfilled_by`.

---

### 4. `dreams_steps`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –®–∞–≥–∏ –∫ –º–µ—á—Ç–µ (—á–µ–∫-–ª–∏—Å—Ç). –ö–∞–∂–¥–∞—è –∑–∞–ø–∏—Å—å –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ –æ–¥–Ω–æ–π –º–µ—á—Ç–µ (`dream_id`), –∏–º–µ–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ, —Ñ–ª–∞–≥ ¬´–≤—ã–ø–æ–ª–Ω–µ–Ω–æ¬ª –∏ –ø–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏. –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –º–µ—á—Ç—ã —à–∞–≥–∏ —É–¥–∞–ª—è—é—Ç—Å—è –∫–∞—Å–∫–∞–¥–Ω–æ (ON DELETE CASCADE).

| –ö–æ–ª–æ–Ω–∫–∞    | –¢–∏–ø            | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|----------------|----------|
| `id`       | SERIAL PRIMARY KEY | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —à–∞–≥–∞. |
| `dream_id` | INT NOT NULL   | –ú–µ—á—Ç–∞, –∫ –∫–æ—Ç–æ—Ä–æ–π –æ—Ç–Ω–æ—Å–∏—Ç—Å—è —à–∞–≥. REFERENCES `dreams(id)` ON DELETE CASCADE. |
| `title`    | VARCHAR(500) NOT NULL | –ù–∞–∑–≤–∞–Ω–∏–µ —à–∞–≥–∞. |
| `completed`| BOOLEAN DEFAULT false | –í—ã–ø–æ–ª–Ω–µ–Ω –ª–∏ —à–∞–≥ (–≥–∞–ª–æ—á–∫–∞ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ). |
| `sort_order` | INT DEFAULT 0 | –ü–æ—Ä—è–¥–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è (–º–µ–Ω—å—à–µ ‚Äî –≤—ã—à–µ –≤ —Å–ø–∏—Å–∫–µ). |
| `deadline`   | DATE NULL     | –î–µ–¥–ª–∞–π–Ω —à–∞–≥–∞ (–æ–¥–Ω–∞ –¥–∞—Ç–∞ ¬´—Å–¥–µ–ª–∞—Ç—å –¥–æ¬ª). –ú–∏–≥—Ä–∞—Ü–∏—è mig_015. |
| `deleted`    | BOOLEAN DEFAULT false | –ú—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ: true ‚Äî —à–∞–≥ —Å–∫—Ä—ã—Ç –∏–∑ —Ç–µ–∫—É—â–∏—Ö, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ —Ä–∞–∑–¥–µ–ª–µ ¬´–®–∞–≥–∏¬ª –≤ –±–ª–æ–∫–µ ¬´–£–¥–∞–ª—ë–Ω–Ω—ã–µ¬ª —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å. –ú–∏–≥—Ä–∞—Ü–∏—è mig_015. |

–ò–Ω–¥–µ–∫—Å (–Ω–µ —Ç–∞–±–ª–∏—Ü–∞): `idx_dreams_steps_dream_id` –Ω–∞ —Å—Ç–æ–ª–±–µ—Ü `dreams_steps(dream_id)` ‚Äî –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ —à–∞–≥–æ–≤ –ø–æ –º–µ—á—Ç–µ (mig_001, –∏–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–æ –≤ mig_017). –í—Å—ë, —á—Ç–æ –∫–∞—Å–∞–µ—Ç—Å—è –º–µ—á—Ç, –∏–º–µ–µ—Ç –ø—Ä–µ—Ñ–∏–∫—Å `dreams_`.

---

### 5. `dreams_statuses`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Å—Ç–∞—Ç—É—Å–æ–≤ –º–µ—á—Ç—ã. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ —Å–º–µ–Ω—ã —Å—Ç–∞—Ç—É—Å–∞ –≤ —Ç–∞–±–ª–∏—Ü–µ –∏ –≤ –º–æ–¥–∞–ª–∫–∞—Ö. –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∑–∞–¥–∞–Ω—ã –≤ mig_005.

| –ö–æ–ª–æ–Ω–∫–∞   | –¢–∏–ø               | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|-------------------|----------|
| `id`      | SERIAL PRIMARY KEY | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä. –í `dreams.status_id` —Ö—Ä–∞–Ω–∏—Ç—Å—è —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ. |
| `code`    | VARCHAR(50) UNIQUE NOT NULL | –ö–æ–¥ —Å—Ç–∞—Ç—É—Å–∞: `planned`, `in_progress`, `done`. |
| `label_ru`| VARCHAR(100) NOT NULL | –ü–æ–¥–ø–∏—Å—å –Ω–∞ —Ä—É—Å—Å–∫–æ–º: –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ, –í —Ä–∞–±–æ—Ç–µ, –í—ã–ø–æ–ª–Ω–µ–Ω–æ. |
| `icon`    | VARCHAR(20)       | –ò–∫–æ–Ω–∫–∞ (—ç–º–æ–¥–∑–∏): üí°, ‚ò≠, ‚úÖ. |

–ù–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (mig_005): planned ‚Äî –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ üí°; in_progress ‚Äî –í —Ä–∞–±–æ—Ç–µ ‚ò≠; done ‚Äî –í—ã–ø–æ–ª–Ω–µ–Ω–æ ‚úÖ.

**–°—Ç–∞—Ç—É—Å—ã –º–µ—á—Ç—ã (–∞–Ω–∞–ª–∏—Ç–∏–∫–∞, –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ ¬´–º–µ—á—Ç–∞ —Å–±—ã–ª–∞—Å—å N —Ä–∞–∑¬ª):**  
–í –∫–æ–ª–æ–Ω–∫–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –º–µ—á—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–µ —Ç–æ–ª—å–∫–æ –∏–∫–æ–Ω–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å—Ç–∞—Ç—É—Å–∞, –Ω–æ –∏ —á–∏—Å–ª–æ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–π (–µ—Å–ª–∏ –º–µ—á—Ç–∞ —Å–±—ã–≤–∞–ª–∞—Å—å). –ß—Ç–æ–±—ã –Ω–µ –Ω–∞—Ä—É—à–∞—Ç—å —à–∏—Ä–∏–Ω—É —Å—Ç–æ–ª–±—Ü–∞: –ø—Ä–∏ 1‚Äì98 ‚Äî –∏–∫–æ–Ω–∫–∞ (–≥–∞–ª–æ—á–∫–∞) + —Ü–∏—Ñ—Ä–∞; –ø—Ä–∏ 99‚Äì999 ‚Äî **—Å–µ—Ä–µ–±—Ä—è–Ω—ã–π** —Å—Ç–∞—Ç—É—Å (—Ü–∏—Ñ—Ä–∞ ¬´99+¬ª / ¬´100+¬ª –∏ —Ç.–¥. –≤ —Å–µ—Ä–µ–±—Ä—è–Ω–æ–º –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏); –ø—Ä–∏ 10000 –∏ –≤—ã—à–µ ‚Äî **–∑–æ–ª–æ—Ç–æ–π** —Å—Ç–∞—Ç—É—Å –º–µ—á—Ç—ã (–∑–æ–ª–æ—Ç–∞—è —Ü–∏—Ñ—Ä–∞ ¬´10000+¬ª). –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø–æ—Ä–æ–≥–∏ –∏ –∏–∫–æ–Ω–∫–∏ —É—Ç–æ—á–Ω—è—é—Ç—Å—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ.

---

### 6. `dreams_categories`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –º–µ—á—Ç—ã. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—ã–±–æ—Ä–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –º–µ—á—Ç—ã –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —Ç–∞–±–ª–∏—Ü–µ. –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∑–∞–¥–∞–Ω—ã –≤ mig_005.

| –ö–æ–ª–æ–Ω–∫–∞   | –¢–∏–ø               | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|-------------------|----------|
| `id`      | SERIAL PRIMARY KEY | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä. –í `dreams.category_id` —Ö—Ä–∞–Ω–∏—Ç—Å—è —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ. |
| `code`    | VARCHAR(50) UNIQUE NOT NULL | –ö–æ–¥ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏: health, finance, relations, charity, projects, development. |
| `label_ru`| VARCHAR(100) NOT NULL | –ü–æ–¥–ø–∏—Å—å –Ω–∞ —Ä—É—Å—Å–∫–æ–º. |
| `icon`    | VARCHAR(20)       | –ò–∫–æ–Ω–∫–∞ (—ç–º–æ–¥–∑–∏). |

–ù–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (mig_005): health ‚ù§Ô∏è –ó–¥–æ—Ä–æ–≤—å–µ; finance üí∞ –§–∏–Ω–∞–Ω—Å—ã; relations üíë –û—Ç–Ω–æ—à–µ–Ω–∏—è; charity ü§ù –ë–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å; projects üìã –ü—Ä–æ–µ–∫—Ç—ã; development üìö –†–∞–∑–≤–∏—Ç–∏–µ.  
–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ (mig_008): –∏–∫–æ–Ω–∫–∏ –¥–ª—è –°–µ–º—å—è üè† –∏ –ü—Ä–æ—á–µ–µ üì¶; –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—è sport ‚öΩ –°–ø–æ—Ä—Ç.  
(mig_009): –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—è spirituality üôè –î—É—Ö–æ–≤–Ω–æ—Å—Ç—å.  
(mig_010): –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—è achievements üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è.

---

## –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã (–±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞ _old_)

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –û–°–¢–†–û–í –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ: **users**, **dreams**, **dreams_log**, **dreams_categories**, **dreams_statuses**, **dreams_steps**. –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –≤ —Å—Ö–µ–º–µ `public` —Å—á–∏—Ç–∞—é—Ç—Å—è –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º–∏.

## –¢–∞–±–ª–∏—Ü—ã —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º _old_

–ú–∏–≥—Ä–∞—Ü–∏—è **mig_018** –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ—Ç –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã –≤ `public`, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –≤—Ö–æ–¥—è—Ç –≤ —Å–ø–∏—Å–æ–∫ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –≤—ã—à–µ, –¥–æ–±–∞–≤–ª—è—è –ø—Ä–µ—Ñ–∏–∫—Å **`_old_`** (–Ω–∞–ø—Ä–∏–º–µ—Ä: `darts` ‚Üí `_old_darts`). –¢–∞–∫ –Ω–∞–≥–ª—è–¥–Ω–æ –≤—ã–¥–µ–ª—è—é—Ç—Å—è –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã. –ï—Å–ª–∏ —Å—Ç–∞—Ä–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å–Ω–æ–≤–∞ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è, –ø—Ä–µ—Ñ–∏–∫—Å —É–±–∏—Ä–∞—é—Ç –≤—Ä—É—á–Ω—É—é (–≤ DBeaver –∏–ª–∏ –º–∏–≥—Ä–∞—Ü–∏–µ–π `ALTER TABLE _old_<name> RENAME TO <name>`). –¢–∞–±–ª–∏—Ü—ã, —É–∂–µ –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å `_old_`, –º–∏–≥—Ä–∞—Ü–∏—è –Ω–µ —Ç—Ä–æ–≥–∞–µ—Ç.
